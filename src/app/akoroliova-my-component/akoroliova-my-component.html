<mat-card>
	<mat-card-header>
		<mat-card-title>planet filter (akoroliova)</mat-card-title>
		<mat-card-subtitle>
			filter Star Wars planets by name, film count, and residents
		</mat-card-subtitle>
	</mat-card-header>

	<mat-card-content>
		<div>
			<mat-form-field appearance="outline">
				<mat-label>Search by name</mat-label>
				<input
					matInput
					type="search"
					placeholder="e.g. Tatooine"
					[value]="search"
					(input)="search = $any($event.target).value"
				/>
			</mat-form-field>

			<mat-form-field appearance="outline">
				<mat-label>Min film count</mat-label>
				<input
					matInput
					type="number"
					min="0"
					[value]="minFilms"
					(input)="minFilms = +$any($event.target).value"
				/>
			</mat-form-field>

			<mat-checkbox
				[checked]="onlyWithResidents"
				(change)="onlyWithResidents = $event.checked"
			>
				only with residents
			</mat-checkbox>

			<button
				mat-raised-button
				type="button"
				(click)="reset()"
				[disabled]="!search && !minFilms && !onlyWithResidents"
			>
				Reset
			</button>
		</div>

		@if (filtered.length === 0) {
			<p>No results</p>
		} @else {
			<mat-list>
				@for (p of filtered; track p.name) {
					<mat-list-item> {{ p.name }} ({{ p.filmCount }}) </mat-list-item>
				}
			</mat-list>
		}
	</mat-card-content>
</mat-card>
